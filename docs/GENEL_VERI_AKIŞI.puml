@startuml Overall-Data-Flow
!theme plain
skinparam backgroundColor #ffffff
skinparam componentBackgroundColor #f8f9fa
skinparam componentBorderColor #6366f1
skinparam componentBorderThickness 2.5
skinparam packageBackgroundColor #e0e7ff
skinparam packageBorderColor #4f46e5
skinparam packageBorderThickness 2.5
skinparam arrowColor #4b5563
skinparam arrowThickness 2
skinparam noteFontSize 10

title **Fit GenÃ§ - Genel Veri AkÄ±ÅŸÄ±**\n**Sistem BileÅŸen Mimarisi**

package "ğŸ¯ KULLANICI ARAYÃœZÃœ (React)" {
  component "ğŸ“‹ Ana Sayfa" as UI1
  component "ğŸ‘¤ Profil YÃ¶netimi" as UI2
  component "ğŸ“ Ã–lÃ§Ã¼m Formu" as UI3
  component "ğŸ“Š SonuÃ§ GÃ¶rÃ¼nÃ¼mÃ¼" as UI4
  component "ğŸ“ˆ Tarih & Trend" as UI5
}

package "ğŸ§® Ä°ÅLEM MOTORU (Algoritma)" {
  component "ğŸ“… YaÅŸ Hesaplama" as ALG1
  component "âš–ï¸ Antropometrik" as ALG2
  component "ğŸ“Š Persentil Analiz" as ALG3
  component "ğŸ¥— Beslenme Hesapla" as ALG4
}

package "ğŸ“ VERÄ° KAYNAKLARI" {
  component "ğŸ“‹ WHO/NCHS\nPersentilleri" as DATA1
  component "ğŸ”¢ KatsayÄ±\nTablolarÄ±" as DATA2
  component "ğŸ’Š Beslenme\nReferanslarÄ±" as DATA3
}

database "ğŸ’¾ DEPOLAMA" {
}

package "ğŸ¨ GÃ–RSELLEÅTIRME" {
  component "ğŸ† Kartlar\n(Cards)" as VIZ1
  component "ğŸ“Š Grafik\n(Charts)" as VIZ2
}

' ========== ANA BAÄLANTILER ==========

UI1 -.-> UI2 : "Profil"
UI1 -.-> UI3 : "Ã–lÃ§Ã¼m"
UI1 -.-> UI5 : "Trend"

UI2 --> DEPOLAMA : "Kaydet"

UI3 --> ALG1 : "DoÄŸum Tarihi"
ALG1 --> ALG2 : "YaÅŸ"

UI3 --> ALG2 : "Boy, Kilo, Bel,\nTriceps, Kol"
ALG2 --> ALG3 : "6 Ã–lÃ§Ã¼m"

ALG3 --> DATA1 : "YaÅŸ Sorgusu"
DATA1 --> ALG3 : "Persentil Verileri"

ALG3 --> ALG4 : "BMI Durumu"
ALG1 --> ALG4 : "YaÅŸ-Cinsiyet"
ALG4 --> DATA2 : "KatsayÄ±"

ALG1 --> ALG4 : "YaÅŸ Grubu"
ALG4 --> DATA3 : "Mikro Besin"

ALG3 --> UI4 : "Persentiller"
ALG4 --> UI4 : "Beslenme PlanÄ±"
DATA3 --> UI4 : "Vitaminler"

UI4 --> VIZ1 : "Ã–zet"
UI4 --> VIZ2 : "Persentil"
VIZ2 --> VIZ1 : "Veri"

UI4 --> DEPOLAMA : "Kaydet"
DEPOLAMA --> UI5 : "Tarihsel Veri"
UI5 --> VIZ2 : "Trend"

DEPOLAMA -.-> UI1 : "YÃ¼kle"

' ========== Ä°ÅLEM AKIÅ NOTLARI ==========

note right of ALG1
  **Merkez BileÅŸen:**
  TÃ¼m hesaplamalarÄ± etkiler
  â€¢ Persentil seÃ§iminde
  â€¢ Beslenme katsayÄ±sÄ±nda
  â€¢ Mikro besin gruplandÄ±rmasÄ±nda
end note

note right of ALG3
  **Durum Belirleme:**
  ğŸ”´ Kritik: â‰¤3 veya â‰¥95
  ğŸŸ  UyarÄ±: 5-15 veya 85-95
  ğŸŸ¢ Ä°deal: 15-85
end note

note bottom
  ğŸ”„ **AKIÅ ADIMLAR:**
  
  1ï¸âƒ£ Profil YÃ¶net â†’ LocalStorage
  2ï¸âƒ£ Ã–lÃ§Ã¼m Gir â†’ YaÅŸ + Antropometrik
  3ï¸âƒ£ Persentil â†’ Veri KaynaklarÄ±
  4ï¸âƒ£ Beslenme â†’ KatsayÄ± & Beslenme
  5ï¸âƒ£ SonuÃ§ â†’ GÃ¶rselleÅŸtirme
  6ï¸âƒ£ Kaydet â†’ LocalStorage
  7ï¸âƒ£ Trend â†’ Tarihsel Veriler
end note

@enduml
note bottom
  ğŸ”„ **ANA AKIÅ:**
  
  1ï¸âƒ£ Profil YÃ¶netimi â†’ 2ï¸âƒ£ Ã–lÃ§Ã¼m GiriÅŸi
  â†“
  3ï¸âƒ£ YaÅŸ & Antropometrik Hesaplamalar
  â†“
  4ï¸âƒ£ Persentil & Beslenme Analizi
  â†“
  5ï¸âƒ£ SonuÃ§ GÃ¶sterimi & Depolama
  â†“
  6ï¸âƒ£ Tarihsel Trend Analizi
  
  ğŸ’¾ LocalStorage tÃ¼m adÄ±mlarda veri kaydeder
end note

@enduml