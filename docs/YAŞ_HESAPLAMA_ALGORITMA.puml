@startuml Age-Calculation-Flowchart
!theme plain
skinparam backgroundColor #ffffff
skinparam startEndBackgroundColor #06b6d4
skinparam endBackgroundColor #06b6d4
skinparam activityBackgroundColor #cffafe
skinparam activityBorderColor #0369a1
skinparam activityBorderThickness 2
skinparam arrowColor #4b5563
skinparam arrowThickness 2
skinparam noteFontSize 10

title **YaÅŸ Hesaplama AlgoritmasÄ±**\n**DÃ¶nemlendirilmiÅŸ YaÅŸ (0.6 OndalÄ±k)**

start

:ğŸ“… **GÄ°RÄ°Å**
  ----
  DoÄŸum Tarihi (ISO Format)
  Ã–rn: "2010-06-15";

:Tarihleri Date Objesine Ã‡evir
  ----
  dob = new Date(dobString)
  now = new Date();

:Zaman FarkÄ±nÄ± Milisaniye Cinsinden Hesapla
  ----
  **diffMs = now.getTime() - dob.getTime()**
  
  Ã–rn: 2024-12-18 - 2010-06-15
       = 537,206,400,000 ms;

:Milisaniyeyi YÄ±la DÃ¶nÃ¼ÅŸtÃ¼r
  ----
  **rawAge = diffMs / (1000 Ã— 60 Ã— 60 Ã— 24 Ã— 365.25)**
  
  365.25: ArtÄ±k yÄ±llarÄ± hesaba katar
  Ã–rn: 537,206,400,000 / 31,557,600,000
       = 14.504 yÄ±l;

:Tam KÄ±sÄ±m & OndalÄ±k AyrÄ±
  ----
  floorAge = Math.floor(rawAge)
  decimal = rawAge - floorAge
  
  Ã–rn: floorAge = 14
       decimal = 0.504 (%50.4);

if (decimal < 0.3\nveya %30?) then (< %30 - DÃ¶nem BaÅŸÄ±)
  :DÃ¶nemlendirilmiÅŸ YaÅŸ = floorAge
    ----
    Ã–rn: 14 yaÅŸ
    
    (DoÄŸum gÃ¼nÃ¼nden %30'una kadar)
    AralÄ±k: 14.0 - 14.3;
else
  if (decimal < 0.8\nveya 0.3-%80?) then (%30-%80 - DÃ¶nem OrtasÄ±)
    :DÃ¶nemlendirilmiÅŸ YaÅŸ = floorAge + 0.6
      ----
      Ã–rn: 14.6 yaÅŸ
      
      (DoÄŸum gÃ¼nÃ¼nden %30-%80'ine)
      AralÄ±k: 14.3 - 14.8;
  else (> %80 - DÃ¶nem Sonu)
    :DÃ¶nemlendirilmiÅŸ YaÅŸ = floorAge + 1
      ----
      Ã–rn: 15 yaÅŸ
      
      (DoÄŸum gÃ¼nÃ¼nden %80'inin sonrasÄ±)
      AralÄ±k: 14.8 - 15.0;
  endif;
endif;

:ğŸ“¤ **Ã‡IKTI**
  ----
  DÃ¶nemlendirilmiÅŸ YaÅŸ
  Format: 13, 13.6, 14, 14.6, ..., 17.6
  (veya: 13, 14, 15, 16, 17 - veri setine gÃ¶re);

stop

note right
  **Neden DÃ¶nemlendirilme?**
  
  ğŸ“Š Persentil veriler 6 aylÄ±k
  aralÄ±klara sÄ±nÄ±flandÄ±rÄ±lmÄ±ÅŸtÄ±r
  
  13.0, 13.6, 14.0, 14.6, 15.0, ...
  
  ğŸ§¬ Adolesanlar hÄ±zlÄ± geliÅŸir
  6 ay iÃ§inde belirgin deÄŸiÅŸim yaÅŸanÄ±r
  
  âœ“ Tam yaÅŸ yerine dÃ¶nem gÃ¶stergesi
  daha klinik aÃ§Ä±dan uygun
end note

note bottom
  ğŸ“ˆ **Ã–RNEK HESAPLAMALAR:**
  
  **Senaryo 1:** 2010-06-15 â†’ 2024-12-18
  rawAge = 14.504 â†’ **14.6 yaÅŸ** (dÃ¶nem ortasÄ±)
  
  **Senaryo 2:** 2010-01-20 â†’ 2024-12-18
  rawAge = 14.960 â†’ **15 yaÅŸ** (dÃ¶nem baÅŸÄ±)
  
  **Senaryo 3:** 2010-08-10 â†’ 2024-12-18
  rawAge = 14.359 â†’ **14 yaÅŸ** (dÃ¶nem baÅŸÄ±)
end note

@enduml



note bottom
  ğŸ“ˆ **Ã–RNEK HESAPLAMALAR:**
  
  **Senaryo 1:** 2010-06-15 â†’ 2024-12-18
  rawAge = 14.504 â†’ **14.6 yaÅŸ** (dÃ¶nem ortasÄ±)
  
  **Senaryo 2:** 2010-01-20 â†’ 2024-12-18
  rawAge = 14.960 â†’ **15 yaÅŸ** (dÃ¶nem baÅŸÄ±)
  
  **Senaryo 3:** 2010-08-10 â†’ 2024-12-18
  rawAge = 14.359 â†’ **14 yaÅŸ** (dÃ¶nem baÅŸÄ±)
end note

@enduml
