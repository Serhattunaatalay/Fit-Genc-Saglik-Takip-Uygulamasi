@startuml Nutrition-Calculation-Flowchart
!theme plain
skinparam backgroundColor #ffffff
skinparam startEndBackgroundColor #8b5cf6
skinparam endBackgroundColor #8b5cf6
skinparam activityBackgroundColor #fce7f3
skinparam activityBorderColor #ec4899
skinparam activityBorderThickness 2
skinparam partitionBackgroundColor #fdf2f8
skinparam partitionBorderColor #be185d
skinparam partitionBorderThickness 2
skinparam arrowColor #4b5563
skinparam arrowThickness 2
skinparam noteFontSize 10

title **Beslenme Ä°htiyacÄ± Hesaplama AlgoritmasÄ±**\n**5 AdÄ±m AyrÄ±ntÄ±lÄ±**

start

:ğŸ“Š **GÄ°RÄ°Å PARAMETRELERI**
  ----
  â€¢ Cinsiyet (M/K)
  â€¢ YaÅŸ (13-18)
  â€¢ Mevcut AÄŸÄ±rlÄ±k (kg)
  â€¢ Boy (m)
  â€¢ BMI Durumu;

partition "**ADIM 1: DÃ¼zeltilmiÅŸ AÄŸÄ±rlÄ±k**" {
  :En YakÄ±n YaÅŸ Grubunu Bul
    ----
    ageKeys = [13.0, 13.6, 14.0, ..., 17.6]
    min_distance() ile seÃ§;
  
  :KatsayÄ±yÄ± Al
    ----
    coeff = CORRECTED_WEIGHT_COEFFICIENTS
    [yaÅŸ][cinsiyet]
    Ã–rn: Erkek 14.6 â†’ 19.4;
  
  :DÃ¼zeltilmiÅŸ AÄŸÄ±rlÄ±k Hesapla
    ----
    **correctedWeight = 
    katsayÄ± Ã— boy(metre)**
    Ã–rn: 19.4 Ã— 1.65 = 32.01 kg;
}

partition "**ADIM 2: Mobil AÄŸÄ±rlÄ±k (BMI Kritik Ä°se)**" {
  if (BMI Durumu\n== critical?) then (ğŸ”´ CRÄ°TÄ°K)
    :Mobil AÄŸÄ±rlÄ±k Hesapla
      ----
      **usedWeight = 
      (0.75 Ã— mevcut) +
      (0.25 Ã— dÃ¼zeltilmiÅŸ)**
      
      %75: GerÃ§ek vÃ¼cut
      %25: Referans deÄŸer
      Ã–rn: (0.75Ã—65) + (0.25Ã—32) = 57.75;
  else (âœ“ NORMAL)
    :GerÃ§ek AÄŸÄ±rlÄ±k Kullan
      ----
      usedWeight = currentWeight;
  endif;
}

partition "**ADIM 3: Toplam Enerji HarcamasÄ± (TEE)**" {
  :PAL Sabitini Ayarla
    ----
    **PAL = 1.6**
    (Orta dÃ¼zey fiziksel aktivite);
  
  if (Cinsiyet\n== Erkek?) then (â™‚ï¸ ERKEK)
    :Harris-Benedict FormÃ¼lÃ¼
      ----
      **TEE = (17.5 Ã— aÄŸÄ±rlÄ±k + 651) Ã— 1.6**
      
      Ã–rn: (17.5Ã—60 + 651) Ã— 1.6
           = 1701 Ã— 1.6
           = 2721.6 kcal/gÃ¼n;
  else (â™€ï¸ KIZ)
    :Harris-Benedict FormÃ¼lÃ¼
      ----
      **TEE = (12.2 Ã— aÄŸÄ±rlÄ±k + 746) Ã— 1.6**
      
      Ã–rn: (12.2Ã—50 + 746) Ã— 1.6
           = 1356 Ã— 1.6
           = 2169.6 kcal/gÃ¼n;
  endif;
}

partition "**ADIM 4: Makro Besinler DaÄŸÄ±lÄ±mÄ±**" {
  :Protein Ä°htiyacÄ±
    ----
    **protein = (TEE Ã— 0.18) / 4 gram**
    %18 Enerji â†’ Protein
    Ã–rn: (2721.6 Ã— 0.18) / 4 = 122.5 g;
  
  :Karbonhidrat Ä°htiyacÄ±
    ----
    **carb = (TEE Ã— 0.52) / 4 gram**
    %52 Enerji â†’ Karbonhidrat
    Ã–rn: (2721.6 Ã— 0.52) / 4 = 353.8 g;
  
  :YaÄŸ Ä°htiyacÄ±
    ----
    **fat = (TEE Ã— 0.30) / 9 gram**
    %30 Enerji â†’ YaÄŸ
    Ã–rn: (2721.6 Ã— 0.30) / 9 = 90.7 g;
}

partition "**ADIM 5: Mikro Besinler (YaÅŸa BaÄŸlÄ±)**" {
  if (13.0 â‰¤ yaÅŸ < 14.0?) then (13.0-13.9 YAÅ)
    :water = M:2.1L / K:1.9L
    fiber = 19 g;
  else
    if (14.0 â‰¤ yaÅŸ < 15.0?) then (14.0-14.9 YAÅ)
      :water = M:2.5L / K:2.0L
      fiber = 19 g;
    else (15.0+ YAÅ)
      :water = M:2.5L / K:2.0L
      fiber = 21 g;
    endif;
  endif;
}

:ğŸ“¤ **Ã‡IKTI: NutritionNeeds**
  ----
  {
    energy: kcal,
    carb: gram,
    fat: gram,
    protein: gram,
    water: litre,
    fiber: gram
  };

stop

note right
  **Kaynak Referanslar:**
  
  ğŸ“– **PDF - TÃ¼ber, 2022**
  TÃ¼rkiye Beslenme Rehberi
  â€¢ KatsayÄ± TablolarÄ±
  â€¢ Su & Lif Ä°htiyaÃ§larÄ±
  
  ğŸ“Š **Harris-Benedict**
  Bazal Metabolik HÄ±z FormÃ¼lÃ¼
  â€¢ 1919 yÄ±lÄ±ndan beri standart
  â€¢ Adolesanlar iÃ§in PAL=1.6
  
  ğŸ§ª **Enerji DaÄŸÄ±lÄ±mÄ±**
  â€¢ BÃ¼yÃ¼me dÃ¶neminde %18 protein
  â€¢ Ã–nerilen daÄŸÄ±lÄ±m standart
end note

note bottom
  ğŸ’¡ **Ã–ZEL DURUMLAR:**
  
  â€¢ **BMI Kritik:**
  Mobil aÄŸÄ±rlÄ±k kullanÄ±lÄ±r
  (gerÃ§ekÃ§i beslenme planÄ±)
  
  â€¢ **Cinsiyete GÃ¶re Fark:**
  KÄ±zlar erkeklere gÃ¶re
  daha az enerji ve su ihtiyacÄ±
  
  â€¢ **YaÅŸ GeÃ§iÅŸi:**
  14 ve 15 yaÅŸÄ±nda
  lif ve su ihtiyaÃ§Ä±nda artÄ±ÅŸ
end note

@enduml


note bottom
  ğŸ’¡ **Ã–ZEL DURUMLAR:**
  
  â€¢ **BMI Kritik:**
  Mobil aÄŸÄ±rlÄ±k kullanÄ±lÄ±r
  (gerÃ§ekÃ§i beslenme planÄ±)
  
  â€¢ **Cinsiyete GÃ¶re Fark:**
  KÄ±zlar erkeklere gÃ¶re
  daha az enerji ve su ihtiyacÄ±
  
  â€¢ **YaÅŸ GeÃ§iÅŸi:**
  14 ve 15 yaÅŸÄ±nda
  lif ve su ihtiyacÄ±nda artÄ±ÅŸ
end note

@enduml
