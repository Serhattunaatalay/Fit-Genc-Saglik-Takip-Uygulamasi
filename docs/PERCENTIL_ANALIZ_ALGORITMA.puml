@startuml Percentile-Analysis-Flowchart
!theme plain
skinparam backgroundColor #ffffff
skinparam startEndBackgroundColor #10b981
skinparam endBackgroundColor #10b981
skinparam activityBackgroundColor #dbeafe
skinparam activityBorderColor #0284c7
skinparam activityBorderThickness 2
skinparam decisionBackgroundColor #fef3c7
skinparam decisionBorderColor #eab308
skinparam decisionBorderThickness 2
skinparam arrowColor #4b5563
skinparam arrowThickness 2
skinparam noteFontSize 10

title **Persentil Analiz AlgoritmasÄ±**\n**DetaylÄ± AkÄ±ÅŸ DiyagramÄ±**

start

:ğŸ“Š **GÄ°RÄ°Å**
  ----
  â€¢ Ã–lÃ§Ã¼len DeÄŸer (value)
  â€¢ Referans Veri Dizisi (dataArray)
  â€¢ Persentil AnahtarlarÄ± (keys);

:YaÅŸa Uygun Veriyi SeÃ§
  ----
  getSafeData(age, dataset)
  En yakÄ±n yaÅŸ bulunur;

:DeÄŸeri Referanslara KarÅŸÄ±laÅŸtÄ±r
  ----
  min = dataArray[0]
  max = dataArray[last];

if (value < Min\nPerentil?) then (ğŸ”´ CRÄ°TÄ°K)
  :< 3. Persentil
    ----
    Ã‡ok DÃ¼ÅŸÃ¼k
    status = critical;
else
  if (value > Max\nPerentil?) then (ğŸ”´ CRÄ°TÄ°K)
    :> 95. Persentil
      ----
      Ã‡ok YÃ¼ksek
      status = critical;
  else (âœ“ AralÄ±kta)
    :Ä°ki Persentil ArasÄ±
      ----
      Interpolasyon yap
      percentileValue = ortanca;
    
    if (Persentil â‰¤ 3 VEYA\nâ‰¥ 95?) then (ğŸ”´ CRÄ°TÄ°K)
      :status = critical;
    else
      if (5-15 VEYA\n85-95?) then (ğŸŸ  UYARI)
        :status = warning;
      else (ğŸŸ¢ Ä°DEAL)
        :15-85 AralÄ±ÄŸÄ±
          ----
          Normal GeliÅŸim
          status = ideal;
      endif;
    endif;
  endif;
endif;

:ğŸ“¤ **Ã‡IKTI**
  ----
  PercentileResult {
    â€¢ text: string
    â€¢ status: critical|warning|ideal
    â€¢ percentileValue: number
  };

stop

note right
  **Standart KÃ¼tÃ¼kler:**
  
  **WHO Persentilleri:**
  3, 5, 15, 50, 85, 95, 97
  â†’ BMI, Boy, Kilo (ilk aÅŸamalar)
  
  **NCHS Persentilleri:**
  5, 10, 15, 25, 50, 75, 85, 90, 95
  â†’ Triceps, Kol Ã‡evresi, YaÄŸ, Kas
end note

note bottom
  ğŸ¯ **DURUM ANLAMLANDIRMASI:**
  
  **ğŸ”´ CRÄ°TÄ°K (â‰¤3 veya â‰¥95):**
  TÄ±bbi danÄ±ÅŸma Ã¶nerilir
  Mobil aÄŸÄ±rlÄ±k kullanÄ±lÄ±r beslenme hesaplamasÄ±nda
  
  **ğŸŸ  UYARI (5-15 veya 85-95):**
  Beslenme/Aktivite dÃ¼zeltmesi
  DÃ¼zenli izleme
  
  **ğŸŸ¢ Ä°DEAL (15-85):**
  Normal geliÅŸim
  Rutin kontrolÃ¼ yeterli
end note

@enduml


note bottom
  ğŸ¯ **DURUM ANLAMLANDIRMASI:**
  
  **ğŸ”´ CRÄ°TÄ°K (â‰¤3 veya â‰¥95):**
  TÄ±bbi danÄ±ÅŸma Ã¶nerilir
  Mobil aÄŸÄ±rlÄ±k kullanÄ±lÄ±r beslenme hesaplamasÄ±nda
  
  **ğŸŸ  UYARI (5-15 veya 85-95):**
  Beslenme/Aktivite dÃ¼zeltmesi
  DÃ¼zenli izleme
  
  **ğŸŸ¢ Ä°DEAL (15-85):**
  Normal geliÅŸim
  Rutin kontrolÃ¼ yeterli
end note

@enduml
